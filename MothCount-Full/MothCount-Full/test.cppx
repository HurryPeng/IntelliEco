//
//  test.cpp
//  MothCount-Full
//
//  Created by william on 2019/7/10.
//  Copyright Â© 2019 IntelliEco. All rights reserved.
//

#include "DrawContour.hpp"
using namespace cv;
using namespace std;

bool IfLower(double k, double b, Point p)
//1 - Bigger/Lower than y = kx + b
//0 - Smaller/Higher than y = kx + b
{
    double yShouldBe;
    yShouldBe = k * p.x + b;
    //cout << yShouldBe;
    if (yShouldBe <= double(p.y))
        return true;
    else
        return false;
}

bool IfRighter(double m, double n, Point p)
//1 - Righter than y = mx + n
//0 - Lefter than y = mx + n
{
    double xShouldBe = m * p.y + n;
    if (xShouldBe <= p.x)
        return true;
    else
        return false;
}

int main()
{
    Mat image(768,1024,CV_32F);
    
    //if k doesn't exist...
    double rho=200, theta= CV_PI/180 * 30;
    //There must be -1
    
    //Top/Bottom lines uses k,b system
    //Left/Right lines uses m,n system
    double k = -1 * cos(theta)/sin(theta), b = rho/sin(theta);
    double m = -1 * tan(theta), n = -1 * rho/sin(theta) / tan(theta);
    
    /*
    Point pt1, pt2;
    double a = cos(theta), b = sin(theta);
    double x0 = a*rho, y0 = b*rho;
    pt1.x = cvRound(x0 + 2000*(-b));
    pt1.y = cvRound(y0 + 2000*(a));
    pt2.x = cvRound(x0 - 2000*(-b));
    pt2.y = cvRound(y0 - 2000*(a));
     */
    
    //cout << k << " " << b;
    //cin.get();
    
    Point s;
    s.y = -500;
    s.x = 400;
    //cout << rho << " " << theta << endl; //Find some GUIlv
    //line( image, pt1, pt2, 255, 1, LINE_8,0);
    cout << IfLower(k, b, s);
    
    
    testImage("Test", image);
    
    return 0;
}
